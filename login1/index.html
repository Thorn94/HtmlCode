<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="reset.css">
    <title>注册</title>
</head>

<body>
    <div class="whole">
        <div class="main">
            <h1>免费注册</h1>
            <form class="form">
                <div class="form1">
                    <input type="text" class="must" placeholder="必填">
                    <span class="sp">不能为空</span>
                </div>
                <div class="form2">
                    <input type="text" class="tips" placeholder="必填自定义提示">
                    <span class="sp">这是自定义提示1</span>
                </div>
                <div class="form2">
                    <input type="text" class="name" placeholder="请输入用户名">
                    <span class="sp">请输入用户名</span>
                </div>
                <div class="form2">
                    <input type="text" class="intimate" placeholder="请输入昵称">
                    <span class="sp">请输入昵称</span>
                </div>
                <div class="form2">
                    <input type="tel" class="tel" placeholder="请输入11位手机号">
                    <span class="sp">请输入手机号</span>
                </div>
                <div class="form2">
                    <input type="text" class="number" placeholder="请输入验证码">
                    <span class="sp1">请输入验证码</span>
                    <input type="button" class="btn" value="获取验证码" onclick="settime(this)">
                </div>
                <div class="form2">
                    <input type="password" class="psw" placeholder="请填写长度为6-20个字符的密码">
                    <span class="sp">请输入密码</span>
                </div>
                <div class="form2">
                    <input type="password" class="psw_again" placeholder="请再次输入密码">
                    <span class="sp">请再次输入密码</span>
                </div>
                <div class="form2">
                    <input type="email" class="email" placeholder="请输入邮箱,邮箱格式,123@163.com">
                    <span class="sp">请输入邮箱号</span>
                </div>
                <div class="form2">
                    <input type="text" class="idCard" placeholder="请输入身份证">
                    <span class="sp">请输入身份证</span>
                </div>
                <div class="login">
                    <input type="button" class="login_btn" value="立即注册">
                </div>
            </form>
        </div>
    </div>

    <script>
        //倒计时
        var countdown = 60;
        function settime(val) {
            if (countdown == 0) {
                $(".btn").attr("disabled", false)//jq
                // val.removeAttribute("disabled");//js
                val.value = "获取验证码";
                countdown = 60;
            } else {
                // val.setAttribute("disabled", true);//js
                $(".btn").attr("disabled", true)//jq
                val.value = "重新发送(" + countdown + ")";
                countdown--;
                setTimeout(function () {
                    settime(val)
                }, 1000)
            };
            //jquery写法
            if (countdown < 10) {
                $(".btn").css("color", "red");
            }
            else {
                $(".btn").css("color", "rgb(150, 150, 150)");
            }
        };


        //表单验证
        $(function () {
            //第一个必填内容验证
            $(".must").blur(function () {
                var must = $(".must").val();
                if (must == "" || must == null) {
                    $(this).next().html('不能为空!!!');
                    $(this).next().show();
                    return;
                } else if (must.length >= 1) {
                    $(this).next().html('☑');
                    $(this).next().show();
                    return;
                }
                $(this).next().hide();
            });
            //必填自定义提示
            $(".tips").blur(function () {
                var tips = $(".tips").val();
                if (tips == "" || tips == null) {
                    $(this).next().html('这是自定义提示1');
                    $(this).next().show();
                    return;
                } else if (tips.length >= 1) {
                    $(this).next().html('☑');
                    $(this).next().show();
                    return;
                }
                $(this).next().hide();
            });
            //用户名
            $(".name").blur(function () {
                var name = $(".name").val();
                if (name == "" || name == null) {
                    $(this).next().html('请输入用户名');
                    $(this).next().show();
                    return;
                } else if (name.length >= 1) {
                    $(this).next().html('☑');
                    $(this).next().show();
                    return;
                }
                $(this).next().hide();
            });
            //昵称
            $(".intimate").blur(function () {
                var intimate = $(".intimate").val();
                if (intimate == "" || intimate == null) {
                    $(this).next().html('请输入昵称');
                    $(this).next().show();
                    return;
                } else if (intimate.length >= 1) {
                    $(this).next().html('☑');
                    $(this).next().show();
                    return;
                }
                $(this).next().hide();
            });
            //手机号
            $(".tel").blur(function () {
                var tel = $(".tel").val();
                if (tel == "" || tel == null) {
                    $(this).next().html('请输入手机号');
                    $(this).next().show();
                    return;
                } else if (!(/^((\d{3}-\d{8}|\d{4}-\d{7,8})|(1[3|5|7|8][0-9]{9}))$/.test(tel))) {
                    $(this).next().html('请输入11位正确的手机号');
                    $(this).next().show();
                    return;
                }
                $(this).next().hide();
            });
            //验证码
            $(".number").blur(function () {
                var number = $(".number").val();
                if (number == "" || number == null) {
                    $(this).next().html('请输入验证码');
                    $(this).next().show();
                    return;
                } else if (number.length >= 1) {
                    $(this).next().html('☑');
                    $(this).next().show();
                    return;
                }
                $(this).next().hide();
            });
            //密码
            $(".psw").blur(function () {
                var psw = $(".psw").val();
                if (psw == "" || psw == null) {
                    $(this).next().html('请输入密码');
                    $(this).next().show();
                    return;
                } else if (!(/^[0-9a-zA-Z_#]{6,16}$/.test(psw))) {
                    $(this).next().html('请输入6至16位字符的密码');
                    $(this).next().show();
                    return;
                }
                $(this).next().hide();
            });
            //再次输入密码
            $(".psw_again").blur(function () {
                var psw = $(".psw").val();
                var psw_again = $(".psw_again").val();
                if (psw_again == "" || psw_again == null) {
                    $(this).next().html('请再次输入密码');
                    $(this).next().show();
                    return;
                } else if (psw != psw_again) {
                    $(this).next().html('两次输入的密码不一致');
                    $(this).next().show();
                    return;
                }
                $(this).next().hide();
            });
            //邮箱
            $(".email").blur(function () {
                var email = $(".email").val();
                if (email == "" || email == null) {
                    $(this).next().html('请输入邮箱号');
                    $(this).next().show();
                    return;
                } else if (!(/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/.test(email))) {
                    $(this).next().html('请输入正确的邮箱号');
                    $(this).next().show();
                    return;
                }
                $(this).next().hide();
            });
            //身份证
            $(".idCard").blur(function () {
                var idCard = $(".idCard").val();
                if (idCard == "" || idCard == null) {
                    $(this).next().html('请输入身份证');
                    $(this).next().show();
                    return;
                } else if (!(/^[1-9]\d{7}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}$|^[1-9]\d{5}[1-9]\d{3}((0\d)|(1[0-2]))(([0|1|2]\d)|3[0-1])\d{3}([0-9]|X)$/.test(idCard))) {
                    $(this).next().html('身份证号码错误');
                    $(this).next().show();
                    return;
                }
                $(this).next().hide();
            });
            //立即注册按钮
            // $(".login_btn").click(function(){
            //     var a = $(".sp").val();
            //     var b =$(".sp1").val();
            //     if(a=="" || a == null && b=="" || b ==null){
            //         $(".sp").show();
            //         $(".sp1").show();
            //     }
            // })
        })


    </script>
</body>

</html>